@mixin rotate-clockwise($duration) {
  animation: rotating $duration linear infinite;

  @keyframes rotating {
    from {
      will-change: transform;
      transform: rotate(0deg);
    }
    to {
      will-change: unset;
      transform: rotate(360deg);
    }
  }
}

@mixin rotate-counter-clockwise($duration) {
  animation: rotate $duration linear infinite;

  @keyframes rotate {
    from {
      will-change: transform;
      transform: rotate(360deg);
    }
    to {
      will-change: unset;
      transform: rotate(0deg);
    }
  }
}

@mixin blink($index) {
  .tl-#{$index - 1},
  .bl-#{$index - 1},
  .tr-#{$index - 1} {
    fill: lighten($primary, 25%);
  }

  .tl-#{$index},
  .bl-#{$index},
  .tr-#{$index} {
    fill: lighten($primary, 15%);
  }
}

@mixin blink-reverse($index) {
  .br-#{$index + 1} {
    fill: lighten($primary, 25%);
  }

  .br-#{$index} {
    fill: lighten($primary, 15%);
  }
}

.position-absolute-center {
  position: absolute;
  transform: translate(-50%, -50%);
  top: 50%;
  left: 50%;
}

.network-health {
  .gears-layout-container {
    background-repeat: no-repeat;
    background: radial-gradient(circle, rgba(213, 220, 230, 0.2) 60%, rgba(255, 255, 255, 0.1) 40%);

    .layout-gear {
      width: 100%;
      height: 100%;

      .blinking-dot {
        transition: fill 0.35s;
      }

      &.blink-1 {
        .bl-1,
        .tl-1,
        .tr-1,
        .br-6 {
          fill: lighten($primary, 15%);
        }
      }

      &.blink-2 {
        @include blink(2);
        @include blink-reverse(5);
      }

      &.blink-3 {
        @include blink(3);
        @include blink-reverse(4);
      }

      &.blink-4 {
        @include blink(4);
        @include blink-reverse(3);
      }

      &.blink-5 {
        @include blink(5);
        @include blink-reverse(2);
      }

      &.blink-6 {
        .bl-6,
        .tl-6,
        .tr-6,
        .br-1 {
          fill: lighten($primary, 25%);
        }
      }
    }

    .big-gear-container {
      @extend .position-absolute-center;
      width: 97%;
      height: 97%;

      .big-gear {
        width: 100%;
        height: 100%;

        .animate {
          @include rotate-counter-clockwise(220s);
        }
      }
    }

    .gear-container {
      position: absolute;
      width: 30%;
      height: 30%;
      $gearPos: 2.1%;
      background-repeat: no-repeat;
      background: radial-gradient(
        circle,
        rgba(213, 220, 230, 0.55) 45%,
        rgba(255, 255, 255, 0.1) 60%
      );

      &.top-left {
        top: $gearPos;
        left: $gearPos;

        .animate {
          @include rotate-clockwise(140s);
        }
      }

      &.top-right {
        top: $gearPos;
        right: $gearPos;

        .animate {
          @include rotate-counter-clockwise(60s);
        }
      }

      &.center {
        @extend .position-absolute-center;

        .gear-content {
          width: 84%;
          height: 84%;
          border-radius: 50%;
        }

        .animate {
          @include rotate-clockwise(80s);
        }
      }

      &.bottom-left {
        bottom: $gearPos;
        left: $gearPos;

        .animate {
          @include rotate-counter-clockwise(60s);
        }
      }

      &.bottom-right {
        bottom: $gearPos;
        right: $gearPos;

        .gear-content {
          width: 76%;
          height: 76%;
          border-radius: 50%;
        }

        .animate {
          @include rotate-clockwise(45s);
        }
      }

      .gear {
        width: 100%;
        height: 100%;
      }

      .gear-content {
        @extend .position-absolute-center;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        flex-direction: column;
        font-size: 7px;

        @media (min-width: 350px) {
          font-size: 9px;
        }

        @media (min-width: 390px) {
          font-size: 10px;
        }

        @media (min-width: 450px) {
          font-size: 12px;
        }

        @media (min-width: 1050px) {
          font-size: 13px;
        }

        small {
          @extend .text-secondary;
        }
      }
    }
  }
}
